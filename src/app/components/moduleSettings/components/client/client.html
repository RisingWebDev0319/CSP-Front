<md-header></md-header>

<div class="formContainer">

    <form name="ctrl.form">
        <div layout="row" layout-xs="column">
            <div flex>
                <md-input-container class="md-block">
                    <label>First Name *</label>
                    <input ng-model="model.firstName"
                           ng-disabled="disableEdit"
                           name="cName" type="text" placeholder="First Name" required ng-maxlength="80" autofocus="">
                </md-input-container>

                <md-input-container class="md-block">
                    <label>Last Name</label>
                    <input ng-model="model.lastName"
                           ng-disabled="disableEdit"
                           name="cLastName" type="text" placeholder="Last Name" ng-maxlength="80" autofocus="">
                </md-input-container>

                <md-input-container class="md-block">
                    <label>E-Mail *</label>
                    <input ng-model="model.email"
                           ng-model-options="{ debounce: 200 }"
                           ng-change="checkEmail()"
                           name="cEmail"
                           type="email"
                           placeholder="mail@mail.com"
                           required
                           autofocus=""
                           ng-disabled="disableEdit"
                    >

                    <div ng-messages="ctrl.form.cEmail.$error" class="error-container">
                        <div ng-message="unique">Such email exists already.</div>
                    </div>
                </md-input-container>

                <div flex>
                    <md-input-container class="flex-container">
                        <label>Client since</label>
                        <md-datepicker ng-model="model.clientSince"
                                       class="flex-container"
                                       ng-disabled="disableEdit"
                                       md-placeholder="maxDate"></md-datepicker>
                    </md-input-container>

                    <md-input-container class="flex-container">
                        <label>Birth Date</label>
                        <md-datepicker ng-model="model.birthday"
                                       md-placeholder="maxDate"
                                       ng-disabled="disableEdit"
                                       md-current-view="year"
                        >
                        </md-datepicker>
                    </md-input-container>
                </div>

                <md-input-container class="md-block">
                    <label>Preferred Name</label>
                    <input ng-model="model.preferredName"
                           ng-disabled="disableEdit"
                           name="cPreferredName" type="text" placeholder="Preferred Name" ng-maxlength="80"
                           autofocus=""/>
                </md-input-container>

                <md-input-container class="md-block select-container">
                    <label ng-if="model.gender !== undefined">Gender</label>
                    <md-select
                        ng-model="model.gender"
                        placeholder="Gender"
                        ng-disabled="disableEdit"
                    >
                        <md-option ng-value="0">Male</md-option>
                        <md-option ng-value="1">Female</md-option>
                    </md-select>
                </md-input-container>

                <div class="select-container margin-0">
                    <label>Program length</label>
                    <md-input-container class="md-block margin-0">
                    <textarea
                        ng-model="model.programLength"
                        name="cProgramLength"
                        ng-disabled="disableEdit"
                        autofocus=""
                    ></textarea>
                    </md-input-container>
                </div>

                <div class="select-container margin-0">
                    <label>Cycle</label>
                    <md-input-container class="md-block margin-0">
                    <textarea
                        ng-model="model.cycle"
                        name="cCycle"
                        ng-disabled="disableEdit"
                        autofocus=""
                    ></textarea>
                    </md-input-container>
                </div>

                <div class="select-container margin-0">
                    <label>Program Dates</label>
                    <md-input-container class="md-block margin-0">
                    <textarea
                        ng-model="model.programDates"
                        name="cProgramDates"
                        ng-disabled="disableEdit"
                        autofocus=""
                    ></textarea>
                    </md-input-container>
                </div>

                <div class="select-container margin-0">
                    <label>Budget</label>
                    <md-input-container class="md-block margin-0">
                    <textarea
                        ng-model="model.budget"
                        name="cBudget"
                        ng-disabled="disableEdit"
                        autofocus=""
                    ></textarea>
                    </md-input-container>
                </div>
            </div>
            <!-- Therapist Info board-->
            <div flex>

                <md-input-container class="md-block">
                    <label>External ID:</label>
                    <input ng-model="model.externalId"
                           ng-disabled="true"
                           name="cexternalId"
                           type="number"
                           placeholder="ID: 1587"
                           ng-maxlength="50"
                           autofocus=""/>
                </md-input-container>

                <md-input-container class="md-block">
                    <label>Mobile Phone</label>
                    <input ng-model="model.phoneMobile"
                           ng-disabled="disableEdit"
                           name="cPhoneMobile" type="text" placeholder="+X XXX XXX X XXX" ng-maxlength="50"
                           autofocus=""/>
                </md-input-container>

                <md-input-container class="md-block">
                    <label>Work Phone</label>
                    <input ng-model="model.phoneWork"
                           ng-disabled="disableEdit"
                           name="cPhoneWork" type="text" placeholder="" ng-maxlength="50" autofocus=""/>
                </md-input-container>

                <md-input-container class="md-block">
                    <label>Home Phone</label>
                    <input ng-model="model.phoneHome"
                           ng-disabled="disableEdit"
                           name="cPhoneHome" type="text" placeholder="" ng-maxlength="50" autofocus=""/>
                </md-input-container>

                <div class="md-block select-container">
                    <label>Country</label>
                    <div chips-selector-title="Select Country"
                         chips-selector="model.country"
                         display-item="displayCountries"
                         chips-selector-all="countries"
                         chips-selector-on-close="getRegions()"
                         searchable="true"
                         disabled="disableEdit"
                         multiple="false"
                    >
                    </div>
                </div>

                <div class="md-block select-container">
                    <label>State</label>
                    <div chips-selector-title="Select State"
                         chips-selector="model.state"
                         chips-selector-all="regions"
                         multiple="false"
                         disabled="isDisableRegions() || disableEdit"
                    >
                    </div>
                </div>

                <md-input-container class="md-block">
                    <label>City</label>
                    <input ng-model="model.city"
                           ng-disabled="disableEdit"
                           name="cCity" type="text" placeholder="City" ng-maxlength="20" autofocus=""/>
                </md-input-container>

                <md-input-container class="md-block">
                    <label>Street address</label>
                    <input ng-model="model.street"
                           ng-disabled="disableEdit"
                           name="cCity" type="text" placeholder="Street address" ng-maxlength="80" autofocus=""/>
                </md-input-container>

                <md-input-container class="md-block">
                    <label>Postal Code/Zip</label>
                    <input ng-model="model.postcode"
                           ng-disabled="disableEdit"
                           name="cPostcode" type="text" placeholder="Postal Code/Zip" ng-maxlength="80" autofocus=""/>
                </md-input-container>
            </div>
        </div>
    </form>

    <!-- end therapistInfo board-->
</div>

<div ng-if="sessions.length > 0">
    <content-header>Client sessions</content-header>

    <div class="formContainer">
        <md-list flex>
            <md-list-item class="md-1-line"
                          ng-repeat="session in sessions track by session.id"
                          ng-click="clientSessionClick(session.id)">
                {{ session.name }}
            </md-list-item>
        </md-list>
    </div>
</div>
